<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:composition template="/faces/templates/main-template.xhtml">
		<ui:define name="content">		
			<f:metadata>
				<f:event listener="#{dataTableBean.init}" type=""></f:event>
			</f:metadata>		
			<p:panel>
				<h:form id="form">
    	    	    <p:dataTable id="dataTable" var="data" value="#{dataTableBean.view.tableData}" resizableColumns="true">
	    		 		<f:facet name="header">        					
        					<h:commandLink value="xls">
				                <p:dataExporter type="xls" target="dataTable" fileName="dataTable" />
				            </h:commandLink>
				 
				            <h:commandLink value="pdf">
				                <p:dataExporter type="pdf" target="dataTable" fileName="dataTable"/>
				            </h:commandLink>
				 
				            <h:commandLink value="csv">
				                <p:dataExporter type="csv" target="dataTable" fileName="dataTable" />
				            </h:commandLink>
				 
				            <h:commandLink value="xml">
				                <p:dataExporter type="xml" target="dataTable" fileName="dataTable" />
				            </h:commandLink>
				            
				            <ui:insert name="title" />
				 
        					<p:commandButton id="toggler" type="button" value="Columns" style="float:right" icon="ui-icon-calculator" />
        					<p:columnToggler datasource="dataTable" trigger="toggler" />
	    				</f:facet>
	    				
	    				<p:ajax event="sort" />
	     				<p:ajax event="rowSelect" update=":form:dataTable" />
		    			
		    			<ui:insert name="columns" />
		    			
					</p:dataTable>
				</h:form>
            </p:panel>
        
		</ui:define>
	</ui:composition>
</html>